<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Adopción de Gatos</title>
  <link rel="stylesheet" href="../css/CrudP.css">
</head>
<header>
    <div class="logo">
        <img src="../img/logo.png" alt="AdoptMe Logo">
    </div>
    <nav>
        <ul>
            <li><a href="../index.html">Inicio</a></li>
            <li><a href="CrudP.html">Usuarios</a></li>
            <li><a href="Crudm.html">Mascotas</a></li>
            <li><a href="CrudS.html">Solicitudes</a></li>
        </ul>
    </nav>
    <button class="btn">Iniciar Sesión</button>
</header>
<body>

  <h1>Centro de gestion de usuarios</h1>

  <div class="formulario">
    <h2>Registrar nuevo usuario:</h2>
    <form id="formulario-gato">
      <label>Nombre completo</label>
      <input type="text" id="Nombrecompleto" required>

      <label>Correo electronico:</label>
      <input type="text" id="Correoelectronico" required>

      <label>Contraseña:</label>
      <input type="password" id="Contraseña" required>

      <label>Rol</label>
      <select id="Rol">
        <option>Adoptante</option>
        <option>Administrador</option>
        <option>Administrador de la fundacion</option>
      </select>

      <label>Direccion:</label>
      <input type="text" id="Direccion" required>
      </select>

      <label>Telefono:</label>
      <input type="text" id="Telefono" required>

      <button type="submit">Agregar usuario</button>
    </form>
  </div>

  <table id="tabla-gatos">
    <thead>
      <tr>
        <th>ID</th>
        <th>Nombre completo</th>
        <th>Correo electronico</th>
        <th>Contraseña</th>
        <th>Rol</th>
        <th>Direccion</th>
        <th>Telefono</th>
        <th>Opciones</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>1</td><td>Bigotes</td><td>bigotes@gmail.com</td><td>*****</td><td>Adoptante</td><td>Cra 10</td><td>3215648987</td>
        <td class="acciones">
          <button onclick="editarFila(this)">Editar</button>
          <button class="eliminar" onclick="eliminarFila(this)">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>
</body>
<script>
    let id = 2;
document.getElementById("formulario-gato").addEventListener("submit", function(event) {
  event.preventDefault();

  const Nombrecompleto = document.getElementById("Nombrecompleto").value;
  const Correoelectronico = document.getElementById("Correoelectronico").value;
  const Contraseña = document.getElementById("Contraseña").value;
  const Rol = document.getElementById("Rol").value;
  const Direccion = document.getElementById("Direccion").value;
  const Telefono = document.getElementById("Telefono").value;

  const tabla = document.getElementById("tabla-gatos").getElementsByTagName('tbody')[0];
  const fila = tabla.insertRow();

  fila.innerHTML = `
    <td>${id}</td>
    <td>${Nombrecompleto}</td>
    <td>${Correoelectronico}</td>
    <td>${Contraseña}</td>
    <td>${Rol}</td>
    <td>${Direccion}</td>
    <td>${Telefono}</td>
    <td class="acciones">
      <button onclick="editarFila(this)">Editar</button>
      <button class="eliminar" onclick="eliminarFila(this)">Eliminar</button>
    </td>
  `;

  id++;
  this.reset();
});

function eliminarFila(boton) {
  const fila = boton.parentNode.parentNode;
  fila.remove();
}

function editarFila(boton) {
  const fila = boton.parentNode.parentNode;
  const celdas = fila.getElementsByTagName("td");

  document.getElementById("Nombrecompleto").value = celdas[1].innerText;
  document.getElementById("Correoelectronico").value = celdas[2].innerText;
  document.getElementById("Contraseña").value = celdas[3].innerText;
  document.getElementById("Rol").value = celdas[4].innerText;
  document.getElementById("Direccion").value = celdas[5].innerText;
  document.getElementById("Direccion").value = celdas[6].innerText;

  eliminarFila(boton);
}
</script>
