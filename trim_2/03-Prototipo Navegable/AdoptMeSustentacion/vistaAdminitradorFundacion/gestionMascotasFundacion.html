<!DOCTYPE html>
<html lang="es">
    <head>
    <meta charset="UTF-8">
    <title>Adopción de Gatos</title>
    <link rel="stylesheet" href="/css/CrudP.css">
    <link rel="stylesheet" href="/css/entregables.css">
    <link rel="icon" href="/img/IconoMorado.png" type="image/png">
    <link rel="stylesheet" href="/css/styles.css">

    </head>
    <body>
        <header>
            <div class="logo">
                <img src="/img/logo.png" alt="AdoptMe Logo">
            </div>
            <nav>
                <ul>
                    <li><a href="/vistaAdminitradorFundacion/indexAdministradorFundacion.html">Inicio</a></li>
                    <li><a href="/vistaAdminitradorFundacion/gestionAdministradorFundacion.html">Gestion</a></li>
                </ul>
            </nav>
            <div>
                <button class="btn" onclick="abrirModal('loginModal')"><ion-icon name="person"></ion-icon></button>
            </div>
        </header>
    <div class="wrapper">
        <div class="sidebar">
            <h2 id="tituloEntregable">gestionar</h2>
                <ul>
                    <li><a href="/vistaAdminitradorFundacion/gestionMascotasFundacion.html"><i class="fas fa-user"></i>Gestion Mascotas</a></li>
                    <li><a href="/vistaAdminitradorFundacion/gestionSolicitudesFundacion.html"><i class="fas fa-address-card"></i>Gestion Solicitudes</a></li>
                    <li><a href="#"><i class="fas fa-user"></i>Seguimientos Adopcion</a></li>
                </ul> 
            </div>   
        </div>
        <h1>Centro de gestion de mascotas</h1>
        
        <div class="formulario">
            <h2>Registrar Nuevo Gato</h2>
            <form id="formulario-gato">
                <label>Nombre:</label>
                <input type="text" id="nombre" required>
                
                <label>Edad (años):</label>
                <input type="number" id="edad" min="0" required>
                
                <label>Raza:</label>
                <input type="text" id="raza" required>
                
                <label>Color:</label>
                <input type="text" id="color" required>
                
                <label>Sexo:</label>
                <select id="sexo">
                    <option>Macho</option>
                    <option>Hembra</option>
                </select>

                <label>Foto del gato (URL):</label>
                <input type="text" id="foto" placeholder="https://example.com/gato.jpg" required>
                
                <button type="submit">Agregar Gato</button>
            </form>
        </div>
        
        <table id="tabla-gatos">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nombre</th>
                    <th>Edad</th>
                    <th>Raza</th>
                    <th>Color</th>
                    <th>Sexo</th>
                    <th>Foto</th>
                    <th>Opciones</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td><td>Porto</td><td>2</td><td>Criollo</td><td>Gris</td><td>Macho</td>
                    <td><img src="https://i.pinimg.com/736x/fa/f9/f9/faf9f9894f09aa64d061a376ba55888c.jpg" alt="Gato"></td>
                    <td class="acciones">
                        <button onclick="editarFila(this)">Editar</button>
                        <button class="eliminar" onclick="eliminarFila(this)">Eliminar</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
    <script>
        let id = 2;
        document.getElementById("formulario-gato").addEventListener("submit", function(event) {
    event.preventDefault();

    const nombre = document.getElementById("nombre").value;
    const edad = document.getElementById("edad").value;
    const raza = document.getElementById("raza").value;
    const color = document.getElementById("color").value;
    const sexo = document.getElementById("sexo").value;
    const foto = document.getElementById("foto").value;
    
    const tabla = document.getElementById("tabla-gatos").getElementsByTagName('tbody')[0];
    const fila = tabla.insertRow();
    
    fila.innerHTML = `
    <td>${id}</td>
    <td>${nombre}</td>
    <td>${edad}</td>
    <td>${raza}</td>
    <td>${color}</td>
    <td>${sexo}</td>
    <td><img src="${foto}" alt="Gato"></td>
    <td class="acciones">
        <button onclick="editarFila(this)">Editar</button>
        <button class="eliminar" onclick="eliminarFila(this)">Eliminar</button>
        </td>
        `;
        
        id++;
        this.reset();
    });

    function eliminarFila(boton) {
        const fila = boton.parentNode.parentNode;
        fila.remove();
    }

    function editarFila(boton) {
        const fila = boton.parentNode.parentNode;
        const celdas = fila.getElementsByTagName("td");

        document.getElementById("nombre").value = celdas[1].innerText;
        document.getElementById("edad").value = celdas[2].innerText;
        document.getElementById("raza").value = celdas[3].innerText;
        document.getElementById("color").value = celdas[4].innerText;
        document.getElementById("sexo").value = celdas[5].innerText;
        
        const imgTag = celdas[6].querySelector("img");
        document.getElementById("foto").value = imgTag ? imgTag.src : "";
        
        eliminarFila(boton);
    }
    </script>
        <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
        <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

    </body>
</html>